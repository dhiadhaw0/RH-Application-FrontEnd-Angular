<div class="dashboard-container">
  <h2>Tableau de Bord Mentorat</h2>

  <div class="loading" *ngIf="loading">
    Chargement du tableau de bord...
  </div>

  <div class="dashboard-content" *ngIf="!loading">
    <!-- Statistics Cards -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">ğŸ“‹</div>
        <div class="stat-info">
          <h3>{{ stats.totalRequests }}</h3>
          <p>Total demandes</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">â³</div>
        <div class="stat-info">
          <h3>{{ stats.pendingRequests }}</h3>
          <p>Demandes en attente</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">âœ…</div>
        <div class="stat-info">
          <h3>{{ stats.acceptedRequests }}</h3>
          <p>Demandes acceptÃ©es</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">ğŸ¯</div>
        <div class="stat-info">
          <h3>{{ stats.completedSessions }}</h3>
          <p>Sessions terminÃ©es</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">ğŸ“…</div>
        <div class="stat-info">
          <h3>{{ stats.upcomingSessions }}</h3>
          <p>Sessions Ã  venir</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">â­</div>
        <div class="stat-info">
          <h3>{{ stats.averageRating }}</h3>
          <p>Note moyenne</p>
        </div>
      </div>
    </div>

    <!-- Recent Activity -->
    <div class="activity-section">
      <div class="activity-column">
        <h3>Demandes rÃ©centes</h3>
        <div class="activity-list">
          <div class="activity-item" *ngFor="let request of recentRequests">
            <div class="activity-header">
              <h4>{{ request.topic }}</h4>
              <span class="status" [style.background-color]="getStatusColor(request.status)">
                {{ getStatusText(request.status) }}
              </span>
            </div>
            <p class="activity-meta">
              {{ isMentor ? request.mentee.firstName + ' ' + request.mentee.lastName : request.mentor.firstName + ' ' + request.mentor.lastName }}
              â€¢ {{ request.requestedAt | date:'dd/MM/yyyy' }}
            </p>
            <button class="btn-link" routerLink="/mentorship/requests/{{ request.id }}">
              Voir dÃ©tails
            </button>
          </div>

          <div class="no-activity" *ngIf="recentRequests.length === 0">
            Aucune demande rÃ©cente.
          </div>
        </div>
      </div>

      <div class="activity-column">
        <h3>Sessions Ã  venir</h3>
        <div class="activity-list">
          <div class="activity-item" *ngFor="let session of upcomingSessions">
            <div class="activity-header">
              <h4>{{ session.mentorshipRequest.topic }}</h4>
              <span class="status" [style.background-color]="getStatusColor(session.status)">
                {{ getStatusText(session.status) }}
              </span>
            </div>
            <p class="activity-meta">
              {{ session.scheduledAt | date:'dd/MM/yyyy Ã  HH:mm' }}
              â€¢ {{ session.durationMinutes }} min
            </p>
            <button class="btn-link" routerLink="/mentorship/sessions/{{ session.id }}">
              Voir dÃ©tails
            </button>
          </div>

          <div class="no-activity" *ngIf="upcomingSessions.length === 0">
            Aucune session Ã  venir.
          </div>
        </div>
      </div>

      <div class="activity-column">
        <h3>Sessions rÃ©centes</h3>
        <div class="activity-list">
          <div class="activity-item" *ngFor="let session of recentSessions">
            <div class="activity-header">
              <h4>{{ session.mentorshipRequest.topic }}</h4>
              <span class="status" [style.background-color]="getStatusColor(session.status)">
                {{ getStatusText(session.status) }}
              </span>
            </div>
            <p class="activity-meta">
              {{ session.scheduledAt | date:'dd/MM/yyyy' }}
              â€¢ {{ session.durationMinutes }} min
            </p>
            <button class="btn-link" routerLink="/mentorship/sessions/{{ session.id }}">
              Voir dÃ©tails
            </button>
          </div>

          <div class="no-activity" *ngIf="recentSessions.length === 0">
            Aucune session rÃ©cente.
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <h3>Actions rapides</h3>
      <div class="actions-grid">
        <button class="action-btn" routerLink="/mentorship/requests/new" *ngIf="!isMentor">
          <span class="action-icon">ğŸ“</span>
          Nouvelle demande
        </button>

        <button class="action-btn" routerLink="/mentorship/availability" *ngIf="isMentor">
          <span class="action-icon">ğŸ“…</span>
          GÃ©rer disponibilitÃ©s
        </button>

        <button class="action-btn" routerLink="/mentorship/requests">
          <span class="action-icon">ğŸ“‹</span>
          Voir les demandes
        </button>

        <button class="action-btn" routerLink="/mentorship/sessions">
          <span class="action-icon">ğŸ¯</span>
          Voir les sessions
        </button>

        <button class="action-btn" routerLink="/mentorship/mentors" *ngIf="!isMentor">
          <span class="action-icon">ğŸ‘¥</span>
          Trouver un mentor
        </button>

        <button class="action-btn" routerLink="/mentorship/reviews">
          <span class="action-icon">â­</span>
          Voir les avis
        </button>
      </div>
    </div>
  </div>
</div>