<!-- Forum Thread List Component -->
<div class="forum-thread-list-container">
  <!-- Hero Section -->
  <div class="forum-hero">
    <div class="hero-background">
      <div class="hero-overlay"></div>
      <div class="floating-elements">
        <div class="forum-icon icon-1">üí¨</div>
        <div class="forum-icon icon-2">üó£Ô∏è</div>
        <div class="forum-icon icon-3">üí≠</div>
        <div class="forum-icon icon-4">üìù</div>
      </div>
    </div>

    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">
          <i class="fas fa-comments"></i>
          {{ category?.name || 'Forum de Discussion' }}
        </h1>
        <p class="hero-subtitle" *ngIf="category?.description">
          {{ category.description }}
        </p>
        <p class="hero-subtitle" *ngIf="!category?.description">
          √âchangez, partagez et apprenez ensemble dans notre communaut√©
        </p>
      </div>

      <div class="hero-stats">
        <div class="stat-item">
          <div class="stat-number">{{ threads.length }}</div>
          <div class="stat-label">Discussions</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">{{ getTotalReplies() }}</div>
          <div class="stat-label">R√©ponses</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">{{ getActiveUsers() }}</div>
          <div class="stat-label">Membres Actifs</div>
        </div>
      </div>

      <div class="hero-actions">
        <button class="btn btn-primary btn-large" (click)="createNewThread()">
          <i class="fas fa-plus-circle"></i>
          Nouvelle Discussion
        </button>
        <button class="btn btn-outline btn-large" (click)="goBack()">
          <i class="fas fa-arrow-left"></i>
          Retour aux Cat√©gories
        </button>
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <div class="loading-spinner">
      <div class="spinner"></div>
      <p>Chargement des discussions...</p>
    </div>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="error-container">
    <div class="error-message">
      <i class="fas fa-exclamation-triangle"></i>
      <h3>Erreur de chargement</h3>
      <p>{{ error }}</p>
      <button class="btn btn-primary" (click)="loadThreads()">
        <i class="fas fa-redo"></i>
        R√©essayer
      </button>
    </div>
  </div>

  <!-- Threads List -->
  <div *ngIf="!loading && !error" class="threads-container">
    <!-- Pinned Threads -->
    <div *ngIf="getPinnedThreads().length > 0" class="pinned-threads">
      <h3 class="section-title">
        <i class="fas fa-thumbtack"></i>
        Discussions √âpingl√©es
      </h3>
      <div class="threads-list">
        <div
          *ngFor="let thread of getPinnedThreads()"
          class="thread-card pinned"
          (click)="navigateToThread(thread)"
        >
          <div class="thread-header">
            <div class="thread-status" *ngIf="getThreadStatus(thread)">
              <span class="status-badge {{ getThreadStatusClass(thread) }}">
                {{ getThreadStatus(thread) }}
              </span>
            </div>
            <h4 class="thread-title">{{ thread.title }}</h4>
          </div>
          <div class="thread-meta">
            <div class="thread-author">
              <i class="fas fa-user"></i>
              {{ thread.author.firstName }} {{ thread.author.lastName }}
            </div>
            <div class="thread-date">
              <i class="fas fa-calendar"></i>
              {{ formatDate(thread.createdAt) }}
            </div>
          </div>
          <div class="thread-preview">
            <p>{{ thread.content.substring(0, 150) }}...</p>
          </div>
          <div class="thread-actions">
            <button class="action-btn" (click)="navigateToThread(thread); $event.stopPropagation()">
              <i class="fas fa-eye"></i>
              Voir
            </button>
            <button class="action-btn" (click)="reportThread(thread); $event.stopPropagation()">
              <i class="fas fa-flag"></i>
              Signaler
            </button>
          </div>
          <div class="thread-actions">
            <button class="action-btn" (click)="navigateToThread(thread); $event.stopPropagation()">
              <i class="fas fa-eye"></i>
              Voir
            </button>
            <button class="action-btn" (click)="reportThread(thread); $event.stopPropagation()">
              <i class="fas fa-flag"></i>
              Signaler
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Regular Threads -->
    <div class="regular-threads">
      <h3 class="section-title" *ngIf="getPinnedThreads().length > 0">
        <i class="fas fa-comments"></i>
        Toutes les Discussions
      </h3>
      <div class="threads-list">
        <div
          *ngFor="let thread of getRegularThreads()"
          class="thread-card"
          (click)="navigateToThread(thread)"
        >
          <div class="thread-header">
            <div class="thread-status" *ngIf="getThreadStatus(thread)">
              <span class="status-badge {{ getThreadStatusClass(thread) }}">
                {{ getThreadStatus(thread) }}
              </span>
            </div>
            <h4 class="thread-title">{{ thread.title }}</h4>
          </div>
          <div class="thread-meta">
            <div class="thread-author">
              <i class="fas fa-user"></i>
              {{ thread.author.firstName }} {{ thread.author.lastName }}
            </div>
            <div class="thread-date">
              <i class="fas fa-calendar"></i>
              {{ formatDate(thread.createdAt) }}
            </div>
          </div>
          <div class="thread-preview">
            <p>{{ thread.content.substring(0, 150) }}...</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="threads.length === 0" class="empty-state">
      <div class="empty-content">
        <i class="fas fa-comments empty-icon"></i>
        <h3>Aucune discussion</h3>
        <p>Soyez le premier √† cr√©er une discussion dans cette cat√©gorie !</p>
        <button class="btn btn-primary" (click)="createNewThread()">
          <i class="fas fa-plus"></i>
          Cr√©er la premi√®re discussion
        </button>
      </div>
    </div>
  </div>
</div>
